webpackJsonp([2],{"/zpm":function(t,e){},"9/1k":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",[t.scan.isComplete||t.isScanning?t._e():a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-card-title",[a("v-subheader",[t._v("\n            Pupillary Light Reflex Scan\n          ")]),t._v(" "),a("v-spacer")],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-text",[a("p",[t._v("\n        Get ready to start the scan. Instruct the patient to look at the\n        flash lamp on top of the eye tracker. The scan will take\n        approximately 16 seconds. Ensure the patient does not look away from\n        the eye tracker after the flash.\n        ")]),t._v(" "),a("v-layout",[a("v-flex",{attrs:{xs6:""}},[a("v-text-field",{attrs:{label:"Notes"},model:{value:t.scan.notes,callback:function(e){t.scan.notes=e},expression:"scan.notes"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"","offset-xs1":""}},[a("v-select",{attrs:{items:t.gcs,label:"GCS"},model:{value:t.scan.gcs,callback:function(e){t.scan.gcs=e},expression:"scan.gcs"}})],1)],1)],1),t._v(" "),a("v-card-actions",[a("v-btn",{attrs:{large:"",primary:""},nativeOn:{click:function(e){t.startScan(e)}}},[a("v-icon",{attrs:{left:""}},[t._v("\n            play_arrow\n          ")]),t._v("\n          Start Scan\n        ")],1)],1)],1)],1),t._v(" "),t.isScanning?a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-card-text",[a("v-layout",[a("v-flex",{attrs:{lg6:"",md6:""}},[a("v-progress-circular",{staticClass:"blue--text text--darken-3",attrs:{indeterminate:"",size:70,width:7}})],1),t._v(" "),t.processing?a("v-flex",{attrs:{lg6:"",md6:""}},[a("h5",{staticClass:"mt-4"},[t._v("Scan Complete. Processing data...")])]):a("v-flex",{attrs:{lg6:"",md6:""}},[a("h5",{staticClass:"mt-4"},[t._v("Hold Steady. Scan is underway!")])])],1)],1)],1)],1):t._e(),t._v(" "),t.scan.isComplete?a("v-flex",[a("v-card",[a("v-card-title",[a("h6",{staticClass:"mt-3"},[a("span",{},[t._v("Patient")]),t._v(" "),a("router-link",{attrs:{to:{name:"Patient",params:{id:t.patient._id}}}},[a("span",{staticStyle:{"text-transform":"uppercase"}},[t._v("\n            "+t._s(t.patient.hid)+"\n          ")])]),t._v("\n          @ "+t._s(t.scan.updatedAt)+"\n        ")],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:"",error:""},nativeOn:{click:function(e){t.deleteScan(e)}}},[a("v-icon",{staticClass:"white--text"},[t._v("\n            delete_forever\n          ")])],1)],1),t._v(" "),a("v-card-text",[a("v-layout",[a("v-flex",{attrs:{xs4:"",lg2:""}},[a("v-text-field",{attrs:{label:"Notes",disabled:""},model:{value:t.scan.notes,callback:function(e){t.scan.notes=e},expression:"scan.notes"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",lg2:"","offset-xs1":""}},[a("v-text-field",{attrs:{label:"GCS",disabled:""},model:{value:t.scan.gcs,callback:function(e){t.scan.gcs=e},expression:"scan.gcs"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"",lg2:"","offset-xs1":""}},[t.scan.isSuccess?a("v-chip",{staticClass:"green white--text"},[t._v("\n              Scan Successful\n            ")]):a("v-chip",{staticClass:"red darken-3 white--text"},[t._v("\n              Scan Failed\n            ")])],1)],1)],1),t._v(" "),a("v-card-text",[a("v-data-table",{staticClass:"elevation-0",attrs:{headers:t.headers,items:t.results,"hide-actions":"","no-data-text":"No Scans Available"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v("\n              "+t._s(e.item.description)+"\n            ")]),t._v(" "),a("td",[t._v("\n              "+t._s(t._f("formatNumber")(e.item.left,"%0.2f"))+"\n            ")]),t._v(" "),a("td",[t._v("\n              "+t._s(t._f("formatNumber")(e.item.right,"%0.2f"))+"\n            ")]),t._v(" "),a("td",[t._v("\n              "+t._s(e.item.units)+"\n            ")])]}}])})],1)],1),t._v(" "),a("br"),t._v(" "),a("v-card",[a("v-card-title",[a("v-subheader",[t._v("\n              Left Eye Scan\n          ")])],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-text",[a("img",{staticClass:"scan-plot",attrs:{src:t.scanPlotUrl("LEFT")}})])],1),t._v(" "),a("br"),t._v(" "),a("v-card",[a("v-card-title",[a("v-subheader",[t._v("\n              Right Eye Scan\n          ")])],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-text",[a("img",{staticClass:"scan-plot",attrs:{src:t.scanPlotUrl("RIGHT")}})])],1)],1):t._e()],1)},s=[],i={render:n,staticRenderFns:s};e.a=i},GZQa:function(t,e,a){"use strict";e.a={components:{},props:[],data:function(){return{headers:[{text:"Patient Code",value:"hid",align:"left"},{text:"Created At",value:"createdAt",sortable:!0,align:"left"}],pagination:{sortBy:"createdAt"}}},methods:{getPatients:function(){this.$store.socket.emit("getPatients")},createPatient:function(){this.$store.dispatch("createPatient")}},computed:{patients:function(){return this.pagination.descending=!0,this.$store.state.patients}},mounted:function(){this.$store.dispatch("getPatients")}}},IcnI:function(t,e,a){"use strict";var n=a("7+uW"),s=a("NYxO"),i=a("gyMJ");n.a.use(s.a),e.a=new s.a.Store({state:{socket:{connected:!1},connected:!1,patient:{},patients:[],scan:{},scans:[],isScanning:!1,downloadStatus:"notReady",fileUrl:""},mutations:{setPatient:function(t,e){t.patient=e},setPatients:function(t,e){t.patients=e},setScan:function(t,e){t.scan=e},setScans:function(t,e){t.scans=e},setScanning:function(t,e){t.isScanning=e},setDownloadStatus:function(t,e){t.downloadStatus=e},setFileUrl:function(t,e){t.fileUrl=e}},actions:{createPatient:function(t){i.a.postResource("patients").then(function(e){t.commit("setPatient",e.data),router.push({name:"Patient",params:{id:e.data._id}})})},deletePatient:function(t,e){i.a.deleteResource("patient",e).then(function(){router.push({name:"LandingPage"})})},getPatient:function(t,e){i.a.getResource("patient",e).then(function(e){t.commit("setPatient",e.data)})},getPatients:function(t){i.a.listResource("patients").then(function(e){t.commit("setPatients",e.data)})},getScans:function(t,e){i.a.listNestedResource("patient",e,"scans").then(function(e){t.commit("setScans",e.data)})},updatePatient:function(t,e){i.a.putResource("patient",e).then(function(e){t.commit("setPatient",e.data)})},createScan:function(t,e){i.a.postNestedResource("patient",e,"scans").then(function(e){t.commit("setScan",e.data),router.push({name:"Scan",params:{id:e.data._id}})})},getScan:function(t,e){i.a.getResource("scan",e).then(function(e){t.commit("setScan",e.data),t.dispatch("getPatient",e.data.patient_id)})},startScan:function(t,e){t.commit("setScanning",!0),i.a.postResource("commands",e).then(function(e){console.log(e.data),t.commit("setScan",e.data),t.commit("setScanning",!1)})},deleteScan:function(t,e){i.a.deleteResource("scan",e).then(function(t){router.push({name:"Patient",params:{id:t.data._id}})})},getDownload:function(t,e){t.commit("setDownloadStatus","preparing"),i.a.getResource("download",e).then(function(e){t.commit("setFileUrl",e.data),t.commit("setDownloadStatus","ready")})}}})},LqVi:function(t,e){},M93x:function(t,e,a){"use strict";function n(t){a("LqVi")}var s=a("xJD8"),i=a("oYgJ"),r=a("VU/8"),c=n,o=r(s.a,i.a,c,null,null);e.a=o.exports},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),s=a("NYxO"),i=a("3EgV"),r=a.n(i),c=a("M93x"),o=a("YaEn"),l=a("IcnI");a.e(0).then(a.bind(null,"7zck")),n.a.config.productionTip=!1,n.a.use(s.a),n.a.use(r.a);var u=new n.a({el:"#app",router:o.a,store:l.a,template:"<App/>",components:{App:c.a}});n.a.filter("formatNumber",function(t,e){return sprintf(e,t)}),window.router=u.$router},"OU+M":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",[a("v-flex",{attrs:{xs8:"","offset-xs2":""}},[a("v-card",[a("v-card-title",{attrs:{"text-xs-center":""}},[a("v-subheader",[t._v("\n        Patients\n      ")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{primary:""},nativeOn:{click:function(e){t.createPatient(e)}}},[a("v-icon",{attrs:{left:""}},[t._v("\n          person_add\n        ")]),t._v("\n        Add New Patient\n      ")],1)],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-text",[a("v-data-table",{staticClass:"elevation-0",attrs:{pagination:t.pagination,headers:t.headers,items:t.patients,"no-data-text":"No Patients Available"},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[a("v-subheader",{staticClass:"upper"},[a("router-link",{attrs:{to:{name:"Patient",params:{id:e.item._id}}}},[t._v("\n              "+t._s(e.item.hid)+"\n            ")])],1)],1),t._v(" "),a("td",[t._v(t._s(e.item.createdAt))])]}}])})],1),t._v(" "),a("v-divider")],1)],1)],1)},s=[],i={render:n,staticRenderFns:s};e.a=i},"XOj+":function(t,e){},YaEn:function(t,e,a){"use strict";var n=a("7+uW"),s=a("/ocq"),i=a("wSyU"),r=a("kn1a"),c=a("vJ5F");n.a.use(s.a);var o={path:"/",name:"LandingPage",component:i.a},l={path:"/patient/:id",name:"Patient",component:r.a,props:!0},u={path:"/scan/:id",name:"Scan",component:c.a,props:!0};e.a=new s.a({routes:[o,l,u]})},"as/e":function(t,e,a){"use strict";e.a={components:{},props:["id"],data:function(){return{gcs:[15,14,13,12,11,10,9,8,7,6,5,4,3,2,1],headers:[{text:"Description",value:"description",sortable:!1,align:"left"},{text:"Left",value:"left",sortable:!1,align:"left"},{text:"Right",value:"right",sortable:!1,align:"left"},{text:"Units",value:"units",sortable:!1,align:"left"}],processing:!1}},methods:{startScan:function(){var t=this;this.$store.dispatch("startScan",this.scan),setTimeout(function(){t.processing=!0},16e3)},deleteScan:function(){this.$store.dispatch("deleteScan",this.scan._id)},scanPlotUrl:function(t){return"static/plots/"+this.scan._id+"_"+t+".png"}},computed:{scan:function(){return this.$store.state.scan},patient:function(){return this.$store.state.patient},isScanning:function(){return this.$store.state.isScanning},results:function(){var t=[];return t.push({description:"Starting Diameter",left:this.scan.left.starting_diameter,right:this.scan.right.starting_diameter,units:"mm"}),t.push({description:"Minimum Diameter",left:this.scan.left.minimum_diameter,right:this.scan.right.minimum_diameter,units:"mm"}),t.push({description:"Absolute Diameter Change",left:this.scan.left.absolute_diameter_change,right:this.scan.right.absolute_diameter_change,units:"mm"}),t.push({description:"Relative Diameter Change",left:this.scan.left.relative_diameter_change,right:this.scan.right.relative_diameter_change,units:"%"}),t.push({description:"Latency",left:1e3*this.scan.left.latency,right:1e3*this.scan.right.latency,units:"ms"}),t.push({description:"Average Constriction Speed",left:this.scan.left.average_speed,right:this.scan.right.average_speed,units:"mm/s"}),t.push({description:"75% Recovery Time",left:1e3*this.scan.left.recovery_time,right:1e3*this.scan.right.recovery_time,units:"ms"}),t}},mounted:function(){this.$store.dispatch("getScan",this.id)}}},gyMJ:function(t,e,a){"use strict";var n=a("mtWM"),s=a.n(n);window.axios=s.a;var i="http://127.0.0.1:5100";e.a={getStatic:function(t){var e=i+"/"+t;return s.a.get(e)},queryResource:function(t,e,a){var n=i+"/"+t+"?"+e+"="+a;return s.a.get(n)},getResource:function(t,e){var a=i+"/"+t+"/"+e;return s.a.get(a)},listResource:function(t){var e=i+"/"+t;return s.a.get(e)},deleteResource:function(t,e){var a=i+"/"+t+"/"+e;return s.a.delete(a)},postResource:function(t,e){var a=i+"/"+t;return s.a.post(a,e)},postNestedResource:function(t,e,a,n){var r=i+"/"+t+"/"+e+"/"+a;return s.a.post(r,n)},listNestedResource:function(t,e,a){var n=i+"/"+t+"/"+e+"/"+a;return s.a.get(n)},putResource:function(t,e){var a=i+"/"+t+"/"+e._id;return s.a.put(a,e)},streamResource:function(t,e){var a=i+"/"+t+"/"+e.id;return a+="/stream",a+="?elapsedTime="+e.elapsedTime,s.a.get(a,e)},getHistory:function(t,e){var a=i+"/"+t+"/"+e.id;return a+="/history",s.a.get(a,e)}}},kn1a:function(t,e,a){"use strict";function n(t){a("XOj+")}var s=a("zcYO"),i=a("rxJm"),r=a("VU/8"),c=n,o=r(s.a,i.a,c,null,null);e.a=o.exports},oYgJ:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{attrs:{id:"example-1",toolbar:"",footer:""}},[a("v-toolbar",{staticClass:"yellow darken-2 elevation-0",attrs:{light:"",fixed:""}},[a("a",{staticClass:"navy",attrs:{href:"/#"}},[a("img",{attrs:{src:"/static/img/j7-logo@2x.png",width:"50px"}})]),t._v(" "),a("v-toolbar-title",{staticClass:"logo-text"},[t._v("johnny seven")])],1),t._v(" "),a("main",[a("v-container",{attrs:{fluid:""}},[a("router-view")],1)],1)],1)},s=[],i={render:n,staticRenderFns:s};e.a=i},rxJm:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-layout",[a("v-flex",[a("v-card",{staticClass:"elevation-1"},[a("v-card-title",[a("h4",{staticClass:"mt-2 yellow--text text--darken-3",staticStyle:{"text-transform":"uppercase"}},[t._v("\n          "+t._s(t.patient.hid)+"\n        ")]),t._v(" "),a("v-spacer"),t._v(" "),"notReady"==t.downloadStatus?a("v-btn",{attrs:{flat:"",primary:""},nativeOn:{click:function(e){t.downloadData(e)}}},[a("v-icon",{attrs:{left:""}},[t._v("cloud_download")]),t._v("\n          Download\n        ")],1):t._e(),t._v(" "),"preparing"==t.downloadStatus?a("v-btn",[a("v-icon",{attrs:{left:""}},[t._v("\n            av_timer\n           ")]),t._v("\n           One Moment...\n        ")],1):t._e(),t._v(" "),"ready"==t.downloadStatus?a("v-btn",{attrs:{href:t.fileUrl}},[a("v-icon",{attrs:{left:""}},[t._v("\n              file_download\n           ")]),t._v("\n           Download\n        ")],1):t._e(),t._v(" "),a("v-btn",{attrs:{error:""},nativeOn:{click:function(e){t.deletePatient(e)}}},[a("v-icon",{staticClass:"white--text"},[t._v("\n            delete_forever\n          ")])],1),t._v(" "),a("v-btn",{attrs:{primary:""},nativeOn:{click:function(e){t.updatePatient(e)}}},[a("v-icon",{attrs:{left:""}},[t._v("\n            update\n          ")]),t._v("\n          Update\n        ")],1)],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-text",[a("v-layout",[a("v-flex",{attrs:{xs4:""}},[a("v-select",{attrs:{items:t.genders,"item-value":"value",label:"Gender"},model:{value:t.patient.gender,callback:function(e){t.patient.gender=e},expression:"patient.gender"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"","offset-xs1":""}},[a("v-text-field",{attrs:{label:"Age"},model:{value:t.patient.age,callback:function(e){t.patient.age=e},expression:"patient.age"}})],1),t._v(" "),a("v-flex",{attrs:{xs4:"","offset-xs1":""}},[a("v-select",{attrs:{items:t.gcs,label:"GCS"},model:{value:t.patient.gcs,callback:function(e){t.patient.gcs=e},expression:"patient.gcs"}})],1)],1),t._v(" "),a("v-layout",[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{label:"Notes"},model:{value:t.patient.notes,callback:function(e){t.patient.notes=e},expression:"patient.notes"}})],1)],1)],1)],1)],1)],1),t._v(" "),a("br"),t._v(" "),a("v-layout",[a("v-flex",[a("v-card",[a("v-card-title",[a("v-subheader",[t._v("\n            Patient Scans\n          ")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{primary:""},nativeOn:{click:function(e){t.createScan(e)}}},[a("v-icon",{attrs:{left:""}},[t._v("\n                 add_circle\n               ")]),t._v("\n               Add Scan\n              ")],1)],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-text",[a("v-data-table",{staticClass:"elevation-0",attrs:{pagination:t.pagination,headers:t.headers,items:t.scans,"no-data-text":"No Scans Available"},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[a("v-subheader",{staticClass:"upper"},[a("router-link",{attrs:{to:{name:"Scan",params:{id:e.item._id}}}},[t._v("\n                     "+t._s(e.item.createdAt)+"\n                    ")])],1)],1)]}}])})],1)],1)],1),t._v(" "),a("v-snackbar",{attrs:{top:!0,primary:""},model:{value:t.showMessage,callback:function(e){t.showMessage=e},expression:"showMessage"}},[t._v("\n    "+t._s(t.message)+"\n  ")])],1)],1)},s=[],i={render:n,staticRenderFns:s};e.a=i},vDyz:function(t,e){},vJ5F:function(t,e,a){"use strict";function n(t){a("/zpm")}var s=a("as/e"),i=a("9/1k"),r=a("VU/8"),c=n,o=r(s.a,i.a,c,null,null);e.a=o.exports},wSyU:function(t,e,a){"use strict";function n(t){a("vDyz")}var s=a("GZQa"),i=a("OU+M"),r=a("VU/8"),c=n,o=r(s.a,i.a,c,null,null);e.a=o.exports},xJD8:function(t,e,a){"use strict";e.a={name:"app",data:function(){return{drawer:!1}},mounted:function(){}}},zcYO:function(t,e,a){"use strict";e.a={components:{},props:["id"],data:function(){return{message:"",showMessage:!1,gcs:[15,14,13,12,11,10,9,8,7,6,5,4,3,2,1],genders:[{text:"Female",value:"female"},{text:"Male",value:"male"}],headers:[{text:"Created At",sortable:!0,align:"left",value:"createdAt"}],pagination:{sortBy:"createdAt"}}},methods:{updatePatient:function(){this.$store.dispatch("updatePatient",this.patient),this.message="Updated Patient Information",this.showMessage=!0},deletePatient:function(){this.$store.dispatch("deletePatient",this.id)},createScan:function(){this.$store.dispatch("createScan",this.id)},downloadData:function(){this.$store.dispatch("getDownload",this.patient._id)}},computed:{downloadStatus:function(){return this.$store.state.downloadStatus},fileUrl:function(){return this.$store.state.fileUrl},patient:function(){return this.$store.state.patient},scans:function(){return this.pagination.descending=!0,this.$store.state.scans}},mounted:function(){this.$store.dispatch("getPatient",this.id),this.$store.dispatch("getScans",this.id),this.$store.commit("setDownloadStatus","notReady")}}}},["NHnr"]);
//# sourceMappingURL=app.1c6f912c2b9cb1b18d30.js.map